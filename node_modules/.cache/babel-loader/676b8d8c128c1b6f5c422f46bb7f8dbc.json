{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gajul\\\\Desktop\\\\projects\\\\library_management\\\\client\\\\src\\\\components\\\\book\\\\addBook.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { addBook } from \"../../controllers/book\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AddBook = () => {\n  _s();\n\n  const [msg, setmsg] = useState(\"\");\n  const [err, seterr] = useState(\"\");\n  const [f, setf] = useState(new FormData());\n\n  const fileChange = e => {\n    let form = f;\n    form.set(\"photo\", e.target.files[0]);\n    setf(form);\n  };\n\n  const submitForm = data => {\n    data = data.target;\n    let form = new FormData();\n    form = f;\n    form.set(\"name\", data[0].value);\n    form.set(\"author\", data[1].value);\n    form.set(\"refno\", data[2].value);\n    form.set(\"no_of_copies\", data[4].value); // let book = {\n    //     name:data[0].value,\n    //     author:data[1].value,\n    //     refno:data[2].value,\n    //     photo:data[3].value,\n    //     no_of_copies:data[4].value\n    // };\n\n    addBook(form).then(resp => {\n      console.log(resp);\n\n      if (resp.data.err == 1) {\n        seterr(resp.data.error);\n        setmsg(\"\");\n      } else {\n        setmsg(\"Successful\");\n        seterr(\"\");\n        document.getElementById(\"form2\").reset();\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"sign\",\n      align: \"center\",\n      children: \"New Book\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form1\",\n      id: \"form2\",\n      onSubmit: e => {\n        e.preventDefault();\n        submitForm(e);\n      },\n      children: [err.length > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"\",\n        align: \"center\",\n        style: {\n          color: \"red\",\n          fontSize: \"17px\",\n          fontFamily: \"Ubuntu\"\n        },\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 27\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), msg.length > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"\",\n        align: \"center\",\n        style: {\n          color: \"green\",\n          fontSize: \"17px\",\n          fontFamily: \"Ubuntu\"\n        },\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 27\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"un \",\n        type: \"text\",\n        align: \"center\",\n        placeholder: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"un \",\n        type: \"text\",\n        align: \"center\",\n        placeholder: \"Author\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"un \",\n        type: \"text\",\n        align: \"center\",\n        placeholder: \"Reference no\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"un\",\n        type: \"file\",\n        align: \"center\",\n        placeholder: \"picture\",\n        onChange: e => {\n          fileChange(e);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"un \",\n        type: \"text\",\n        align: \"center\",\n        placeholder: \"number of copies\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"submit\",\n        align: \"center\",\n        type: \"submit\",\n        children: \"Add Book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddBook, \"jqmulFu8WDei8H/g4jDsjDFLXRI=\");\n\n_c = AddBook;\nexport default AddBook;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddBook\");","map":{"version":3,"names":["React","useState","addBook","AddBook","msg","setmsg","err","seterr","f","setf","FormData","fileChange","e","form","set","target","files","submitForm","data","value","then","resp","console","log","error","document","getElementById","reset","catch","preventDefault","length","color","fontSize","fontFamily"],"sources":["C:/Users/gajul/Desktop/projects/library_management/client/src/components/book/addBook.js"],"sourcesContent":["import React,{useState} from \"react\";\r\nimport { addBook } from \"../../controllers/book\";\r\nconst AddBook = () =>{\r\n    const [msg,setmsg] = useState(\"\");\r\n    const [err,seterr] = useState(\"\");\r\n    const [f,setf] = useState(new FormData());\r\n    const fileChange = (e) =>{\r\n      let form = f;\r\n      form.set(\"photo\",e.target.files[0]);\r\n      setf(form);\r\n    }\r\n   const submitForm = (data) =>{\r\n    \r\n    data = data.target;\r\n    let form = new FormData();\r\n    form = f;\r\n    form.set(\"name\",data[0].value);\r\n    form.set(\"author\",data[1].value);\r\n    form.set(\"refno\",data[2].value);\r\n    form.set(\"no_of_copies\",data[4].value);\r\n    // let book = {\r\n    //     name:data[0].value,\r\n    //     author:data[1].value,\r\n    //     refno:data[2].value,\r\n    //     photo:data[3].value,\r\n    //     no_of_copies:data[4].value\r\n    // };\r\n\r\n  \r\n    addBook(form).then((resp)=>{\r\n      console.log(resp);\r\n      if(resp.data.err==1){\r\n       seterr(resp.data.error);\r\n       setmsg(\"\");\r\n      }\r\n      else{\r\n        setmsg(\"Successful\");\r\n        seterr(\"\");\r\n        document.getElementById(\"form2\").reset();\r\n      }\r\n    })\r\n    .catch((err)=>{\r\n      console.log(err);\r\n    })\r\n   }\r\n    return (\r\n        <div className=\"main\">\r\n          <p className=\"sign\" align=\"center\">New Book</p>\r\n          <form className=\"form1\" id=\"form2\" onSubmit={(e)=>{e.preventDefault();submitForm(e)}}>\r\n            {err.length>0?<p className=\"\" align=\"center\" style={{color:\"red\",fontSize:\"17px\",fontFamily:\"Ubuntu\"}} >{err}</p>:<></>}\r\n            {msg.length>0?<p className=\"\" align=\"center\" style={{color:\"green\",fontSize:\"17px\",fontFamily:\"Ubuntu\"}} >{msg}</p>:<></>}\r\n            <input className=\"un \" type=\"text\" align=\"center\" placeholder=\"Title\"/>\r\n            <input className=\"un \" type=\"text\" align=\"center\" placeholder=\"Author\"/>\r\n            <input className=\"un \" type=\"text\" align=\"center\" placeholder=\"Reference no\"/>\r\n            <input className=\"un\" type=\"file\" align=\"center\" placeholder=\"picture\" onChange={(e)=>{fileChange(e)}}/>\r\n            <input className=\"un \" type=\"text\" align=\"center\" placeholder=\"number of copies\"/>\r\n            <button className=\"submit\" align=\"center\" type=\"submit\">Add Book</button>\r\n          </form>           \r\n          </div>);\r\n\r\n}\r\nexport default AddBook;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
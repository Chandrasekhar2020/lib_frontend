{"ast":null,"code":"import axios from\"axios\";import{isAdminAuth}from\"./admin\";export var getBooks=function getBooks(){if(isAdminAuth()){console.log(isAdminAuth().token);return axios.get(\"http://localhost:8000/admin/book\",{headers:{Authorization:\"Bearer \".concat(isAdminAuth().token)}}).then(function(resp){return resp.data.resp;});}else{return axios.get(\"http://localhost:8000/users/book/\").then(function(resp){return resp.data.resp;}).catch(function(err){console.log(err);return err;});}};export var addBook=function addBook(book){return axios.post(\"http://localhost:8000/admin/book/\",book,{headers:{Authorization:\"Bearer \".concat(isAdminAuth().token)}}).then(function(resp){return resp;}).catch(function(err){console.log(err);return err;});};export var getBookDetail=function getBookDetail(props){return axios.get(\"http://localhost:8000/users/book/\".concat(props)).then(function(resp){return resp.data.book;}).catch(function(err){console.log(err);});};export var BookManage=function BookManage(book){if(book.take==1){return axios.put(\"http://localhost:8000/admin/take/\".concat(book.ref_no,\"/\").concat(book.reg_no),{},{headers:{Authorization:\"Bearer \".concat(isAdminAuth().token)}}).then(function(resp){return resp;}).catch(function(err){console.log(err);});}else{return axios.put(\"http://localhost:8000/admin/give/\".concat(book.ref_no,\"/\").concat(book.reg_no),{},{headers:{Authorization:\"Bearer \".concat(isAdminAuth().token)}}).then(function(resp){return resp;}).catch(function(err){console.log(err);});}};","map":{"version":3,"names":["axios","isAdminAuth","getBooks","console","log","token","get","headers","Authorization","then","resp","data","catch","err","addBook","book","post","getBookDetail","props","BookManage","take","put","ref_no","reg_no"],"sources":["C:/Users/gajul/Desktop/projects/library_management/client/src/controllers/book.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { isAdminAuth } from \"./admin\";\r\nexport const getBooks = ()=>{\r\n   if(isAdminAuth()){\r\n      console.log(isAdminAuth().token);\r\n      return axios.get(\"http://localhost:8000/admin/book\",{\r\n       headers:{ Authorization:`Bearer ${isAdminAuth().token}` }\r\n      }).\r\n      then((resp)=>{\r\n         return resp.data.resp;\r\n      })\r\n   }\r\n   else{\r\n        return  axios.get(\"http://localhost:8000/users/book/\").then((resp)=>{\r\n            return resp.data.resp;\r\n\r\n         })\r\n         .catch((err)=>{\r\n            console.log(err);\r\n            return err;\r\n         })\r\n      }\r\n};\r\nexport const addBook = (book) =>{\r\n   return axios.post(\"http://localhost:8000/admin/book/\",book,{headers:{Authorization:`Bearer ${isAdminAuth().token}`}}).then((resp)=>{\r\n     \r\n      return resp;\r\n   })\r\n   .catch((err)=>{\r\n      console.log(err);\r\n      return err;\r\n   })\r\n\r\n};\r\nexport const getBookDetail = (props) =>{\r\n   return axios.get(`http://localhost:8000/users/book/${props}`).then((resp)=>{\r\n      return resp.data.book;\r\n      \r\n   })\r\n   .catch((err)=>{\r\n      console.log(err);\r\n   })\r\n}\r\nexport const BookManage = (book) =>{\r\n  if(book.take==1){\r\n    return axios.put(`http://localhost:8000/admin/take/${book.ref_no}/${book.reg_no}`,\r\n    {},{headers:{Authorization:`Bearer ${isAdminAuth().token}`}})\r\n    .then((resp)=>{\r\n      return resp;\r\n    })\r\n    .catch((err)=>{\r\n      console.log(err);\r\n    });\r\n\r\n  }\r\n  else{\r\n   return axios.put(`http://localhost:8000/admin/give/${book.ref_no}/${book.reg_no}`,{}\r\n   ,{headers:{Authorization:`Bearer ${isAdminAuth().token}`}})\r\n   .then((resp)=>{\r\n      return resp;\r\n   })\r\n   .catch((err)=>{\r\n      console.log(err);\r\n   });\r\n  }\r\n}"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,SAA5B,CACA,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAI,CACzB,GAAGD,WAAW,EAAd,CAAiB,CACdE,OAAO,CAACC,GAAR,CAAYH,WAAW,GAAGI,KAA1B,EACA,MAAOL,MAAK,CAACM,GAAN,CAAU,kCAAV,CAA6C,CACnDC,OAAO,CAAC,CAAEC,aAAa,kBAAWP,WAAW,GAAGI,KAAzB,CAAf,CAD2C,CAA7C,EAGPI,IAHO,CAGF,SAACC,IAAD,CAAQ,CACV,MAAOA,KAAI,CAACC,IAAL,CAAUD,IAAjB,CACF,CALM,CAAP,CAMF,CARD,IASI,CACC,MAAQV,MAAK,CAACM,GAAN,CAAU,mCAAV,EAA+CG,IAA/C,CAAoD,SAACC,IAAD,CAAQ,CAChE,MAAOA,KAAI,CAACC,IAAL,CAAUD,IAAjB,CAEF,CAHM,EAINE,KAJM,CAIA,SAACC,GAAD,CAAO,CACXV,OAAO,CAACC,GAAR,CAAYS,GAAZ,EACA,MAAOA,IAAP,CACF,CAPM,CAAR,CAQD,CACN,CApBM,CAqBP,MAAO,IAAMC,QAAO,CAAG,QAAVA,QAAU,CAACC,IAAD,CAAS,CAC7B,MAAOf,MAAK,CAACgB,IAAN,CAAW,mCAAX,CAA+CD,IAA/C,CAAoD,CAACR,OAAO,CAAC,CAACC,aAAa,kBAAWP,WAAW,GAAGI,KAAzB,CAAd,CAAT,CAApD,EAA+GI,IAA/G,CAAoH,SAACC,IAAD,CAAQ,CAEhI,MAAOA,KAAP,CACF,CAHM,EAINE,KAJM,CAIA,SAACC,GAAD,CAAO,CACXV,OAAO,CAACC,GAAR,CAAYS,GAAZ,EACA,MAAOA,IAAP,CACF,CAPM,CAAP,CASF,CAVM,CAWP,MAAO,IAAMI,cAAa,CAAG,QAAhBA,cAAgB,CAACC,KAAD,CAAU,CACpC,MAAOlB,MAAK,CAACM,GAAN,4CAA8CY,KAA9C,GAAuDT,IAAvD,CAA4D,SAACC,IAAD,CAAQ,CACxE,MAAOA,KAAI,CAACC,IAAL,CAAUI,IAAjB,CAEF,CAHM,EAINH,KAJM,CAIA,SAACC,GAAD,CAAO,CACXV,OAAO,CAACC,GAAR,CAAYS,GAAZ,EACF,CANM,CAAP,CAOF,CARM,CASP,MAAO,IAAMM,WAAU,CAAG,QAAbA,WAAa,CAACJ,IAAD,CAAS,CACjC,GAAGA,IAAI,CAACK,IAAL,EAAW,CAAd,CAAgB,CACd,MAAOpB,MAAK,CAACqB,GAAN,4CAA8CN,IAAI,CAACO,MAAnD,aAA6DP,IAAI,CAACQ,MAAlE,EACP,EADO,CACJ,CAAChB,OAAO,CAAC,CAACC,aAAa,kBAAWP,WAAW,GAAGI,KAAzB,CAAd,CAAT,CADI,EAENI,IAFM,CAED,SAACC,IAAD,CAAQ,CACZ,MAAOA,KAAP,CACD,CAJM,EAKNE,KALM,CAKA,SAACC,GAAD,CAAO,CACZV,OAAO,CAACC,GAAR,CAAYS,GAAZ,EACD,CAPM,CAAP,CASD,CAVD,IAWI,CACH,MAAOb,MAAK,CAACqB,GAAN,4CAA8CN,IAAI,CAACO,MAAnD,aAA6DP,IAAI,CAACQ,MAAlE,EAA2E,EAA3E,CACN,CAAChB,OAAO,CAAC,CAACC,aAAa,kBAAWP,WAAW,GAAGI,KAAzB,CAAd,CAAT,CADM,EAENI,IAFM,CAED,SAACC,IAAD,CAAQ,CACX,MAAOA,KAAP,CACF,CAJM,EAKNE,KALM,CAKA,SAACC,GAAD,CAAO,CACXV,OAAO,CAACC,GAAR,CAAYS,GAAZ,EACF,CAPM,CAAP,CAQA,CACF,CAtBM"},"metadata":{},"sourceType":"module"}
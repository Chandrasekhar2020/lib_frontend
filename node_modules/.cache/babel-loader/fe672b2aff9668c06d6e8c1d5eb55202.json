{"ast":null,"code":"import _slicedToArray from\"C:/Users/gajul/Desktop/projects/library_management/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{BookManage}from\"../../controllers/book\";import\"../signin.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MangageBook=function MangageBook(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),err=_useState2[0],seterr=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),take=_useState4[0],settake=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),msg=_useState6[0],setmsg=_useState6[1];var optionSelection=function optionSelection(){var val=document.getElementById(\"ctx\").value;seterr(\"\");if(val===\"give\"){settake(0);}else{settake(1);}};var navigate=useNavigate();var Submit=function Submit(book){var b=book.target;var x={reg_no:b[0].value,ref_no:b[1].value,take:take};BookManage(x).then(function(resp){if(resp.data.err==1){seterr(resp.data.error);}else{document.getElementById(\"form1\").reset();setmsg(\"Successful\");}}).catch(function(err){console.log(err);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"sign\",align:\"center\",children:\"Book Management\"}),msg.length>0?/*#__PURE__*/_jsx(\"p\",{className:\"\",align:\"center\",style:{color:\"green\",fontSize:\"17px\",fontFamily:\"Ubuntu\"},children:msg}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsxs(\"form\",{className:\"form1\",id:\"form1\",style:{paddingTop:\"10px\"},onSubmit:function onSubmit(e){e.preventDefault();Submit(e);},children:[/*#__PURE__*/_jsx(\"input\",{className:\"un \",type:\"text\",align:\"center\",placeholder:\"Admission No\",onChange:function onChange(){seterr(\"\");}}),/*#__PURE__*/_jsx(\"input\",{className:\"un \",type:\"text\",align:\"center\",placeholder:\"Book Reference\",onChange:function onChange(){seterr(\"\");}}),/*#__PURE__*/_jsxs(\"select\",{className:\"un\",type:\"text\",id:\"ctx\",onChange:function onChange(e){return optionSelection();},children:[/*#__PURE__*/_jsx(\"option\",{className:\"un\",value:\"take\",children:\"Student taking\"}),/*#__PURE__*/_jsx(\"option\",{className:\"un\",value:\"give\",children:\"Student giving\"})]}),err.length>0?/*#__PURE__*/_jsx(\"p\",{className:\"\",align:\"center\",style:{color:\"red\",fontSize:\"17px\",fontFamily:\"Ubuntu\"},children:err}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"button\",{className:\"submit\",align:\"center\",type:\"submit\",children:\"Submit\"})]})]});};export default MangageBook;","map":{"version":3,"names":["React","useState","useNavigate","BookManage","MangageBook","err","seterr","take","settake","msg","setmsg","optionSelection","val","document","getElementById","value","navigate","Submit","book","b","target","x","reg_no","ref_no","then","resp","data","error","reset","catch","console","log","length","color","fontSize","fontFamily","paddingTop","e","preventDefault"],"sources":["C:/Users/gajul/Desktop/projects/library_management/client/src/components/admin/givetakebook.js"],"sourcesContent":["import React,{useState} from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {BookManage} from \"../../controllers/book\";\r\nimport \"../signin.css\";\r\n const MangageBook = () =>{\r\n    const [err,seterr] = useState(\"\");\r\n    const [take,settake]  = useState(1);\r\n    const [msg,setmsg] = useState(\"\");\r\n    const optionSelection = () =>{\r\n        let val = document.getElementById(\"ctx\").value;\r\n        seterr(\"\");\r\n        if(val===\"give\"){settake(0);}\r\n        else{\r\n          settake(1);\r\n        }\r\n    }     \r\n    const navigate = useNavigate();\r\n         \r\n         const Submit = (book) =>{\r\n            let b = book.target;\r\n            let x = {\r\n                reg_no:b[0].value,\r\n                ref_no:b[1].value,\r\n                take:take\r\n            };\r\n            BookManage(x)\r\n            .then((resp)=>{\r\n                if(resp.data.err==1){\r\n                    seterr(resp.data.error);\r\n                }\r\n                else{\r\n                   document.getElementById(\"form1\").reset();\r\n                   setmsg(\"Successful\");\r\n                }\r\n            })\r\n            .catch((err)=>{\r\n                console.log(err);\r\n            })\r\n         }\r\n    return (\r\n        <div className=\"main\">\r\n          <p className=\"sign\" align=\"center\">Book Management</p>\r\n          {msg.length>0?<p className=\"\" align=\"center\" style={{color:\"green\",fontSize:\"17px\",fontFamily:\"Ubuntu\"}} >{msg}</p>:<></>}\r\n          <form className=\"form1\"id=\"form1\" style={{paddingTop:\"10px\"}} onSubmit={(e)=>{e.preventDefault();Submit(e);}}>\r\n            <input className=\"un \" type=\"text\" align=\"center\" placeholder=\"Admission No\" onChange={()=>{seterr(\"\");}}/>\r\n            <input className=\"un \" type=\"text\" align=\"center\" placeholder=\"Book Reference\" onChange={()=>{seterr(\"\");}}/>\r\n            <select className=\"un\" type=\"text\" id=\"ctx\" onChange={(e)=>optionSelection()}>\r\n              <option className=\"un\" value=\"take\">Student taking</option>\r\n              <option className=\"un\" value=\"give\">Student giving</option>\r\n            </select>\r\n            {err.length>0?<p className=\"\" align=\"center\" style={{color:\"red\",fontSize:\"17px\",fontFamily:\"Ubuntu\"}} >{err}</p>:<></>}\r\n            <button className=\"submit\" align=\"center\" type=\"submit\">Submit</button>\r\n            \r\n             </form>   \r\n                      \r\n          </div>);\r\n\r\n\r\n}\r\nexport default MangageBook;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import axios from\"axios\";import{isAdminAuth}from\"./admin\";var API_URL=\"http://library-management-eawgfkg0e-chandrasekhar2020.vercel.app\";export var getBooks=function getBooks(){if(isAdminAuth()){console.log(isAdminAuth().token);return axios.get(\"\".concat(API_URL,\"/admin/book\"),{headers:{Authorization:\"Bearer \".concat(isAdminAuth().token)}}).then(function(resp){return resp.data.resp;});}else{return axios.get(\"\".concat(API_URL,\"/users/book/\")).then(function(resp){return resp.data.resp;}).catch(function(err){console.log(err);return err;});}};export var addBook=function addBook(book){return axios.post(\"\".concat(API_URL,\"/admin/book/\"),book,{headers:{Authorization:\"Bearer \".concat(isAdminAuth().token)}}).then(function(resp){return resp;}).catch(function(err){console.log(err);return err;});};export var getBookDetail=function getBookDetail(props){return axios.get(\"\".concat(API_URL,\"/users/book/\").concat(props)).then(function(resp){return resp.data.book;}).catch(function(err){console.log(err);});};export var BookManage=function BookManage(book){if(book.take==1){return axios.put(\"\".concat(API_URL,\"/admin/take/\").concat(book.ref_no,\"/\").concat(book.reg_no),{},{headers:{Authorization:\"Bearer \".concat(isAdminAuth().token)}}).then(function(resp){return resp;}).catch(function(err){console.log(err);});}else{return axios.put(\"\".concat(API_URL,\"/admin/give/\").concat(book.ref_no,\"/\").concat(book.reg_no),{},{headers:{Authorization:\"Bearer \".concat(isAdminAuth().token)}}).then(function(resp){return resp;}).catch(function(err){console.log(err);});}};","map":{"version":3,"names":["axios","isAdminAuth","API_URL","getBooks","console","log","token","get","headers","Authorization","then","resp","data","catch","err","addBook","book","post","getBookDetail","props","BookManage","take","put","ref_no","reg_no"],"sources":["C:/Users/gajul/Desktop/projects/library_management/client/src/controllers/book.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { isAdminAuth } from \"./admin\";\r\nconst API_URL=\"http://library-management-eawgfkg0e-chandrasekhar2020.vercel.app\"\r\nexport const getBooks = ()=>{\r\n   if(isAdminAuth()){\r\n      console.log(isAdminAuth().token);\r\n      return axios.get(`${API_URL}/admin/book`,{\r\n       headers:{ Authorization:`Bearer ${isAdminAuth().token}` }\r\n      }).\r\n      then((resp)=>{\r\n         return resp.data.resp;\r\n      })\r\n   }\r\n   else{\r\n        return  axios.get(`${API_URL}/users/book/`).then((resp)=>{\r\n            return resp.data.resp;\r\n\r\n         })\r\n         .catch((err)=>{\r\n            console.log(err);\r\n            return err;\r\n         })\r\n      }\r\n};\r\nexport const addBook = (book) =>{\r\n   return axios.post(`${API_URL}/admin/book/`,book,{headers:{Authorization:`Bearer ${isAdminAuth().token}`}}).then((resp)=>{\r\n     \r\n      return resp;\r\n   })\r\n   .catch((err)=>{\r\n      console.log(err);\r\n      return err;\r\n   })\r\n\r\n};\r\nexport const getBookDetail = (props) =>{\r\n   return axios.get(`${API_URL}/users/book/${props}`).then((resp)=>{\r\n      return resp.data.book;\r\n      \r\n   })\r\n   .catch((err)=>{\r\n      console.log(err);\r\n   })\r\n}\r\nexport const BookManage = (book) =>{\r\n  if(book.take==1){\r\n    return axios.put(`${API_URL}/admin/take/${book.ref_no}/${book.reg_no}`,\r\n    {},{headers:{Authorization:`Bearer ${isAdminAuth().token}`}})\r\n    .then((resp)=>{\r\n      return resp;\r\n    })\r\n    .catch((err)=>{\r\n      console.log(err);\r\n    });\r\n\r\n  }\r\n  else{\r\n   return axios.put(`${API_URL}/admin/give/${book.ref_no}/${book.reg_no}`,{}\r\n   ,{headers:{Authorization:`Bearer ${isAdminAuth().token}`}})\r\n   .then((resp)=>{\r\n      return resp;\r\n   })\r\n   .catch((err)=>{\r\n      console.log(err);\r\n   });\r\n  }\r\n}"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,SAA5B,CACA,GAAMC,QAAO,CAAC,kEAAd,CACA,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAI,CACzB,GAAGF,WAAW,EAAd,CAAiB,CACdG,OAAO,CAACC,GAAR,CAAYJ,WAAW,GAAGK,KAA1B,EACA,MAAON,MAAK,CAACO,GAAN,WAAaL,OAAb,gBAAkC,CACxCM,OAAO,CAAC,CAAEC,aAAa,kBAAWR,WAAW,GAAGK,KAAzB,CAAf,CADgC,CAAlC,EAGPI,IAHO,CAGF,SAACC,IAAD,CAAQ,CACV,MAAOA,KAAI,CAACC,IAAL,CAAUD,IAAjB,CACF,CALM,CAAP,CAMF,CARD,IASI,CACC,MAAQX,MAAK,CAACO,GAAN,WAAaL,OAAb,kBAAoCQ,IAApC,CAAyC,SAACC,IAAD,CAAQ,CACrD,MAAOA,KAAI,CAACC,IAAL,CAAUD,IAAjB,CAEF,CAHM,EAINE,KAJM,CAIA,SAACC,GAAD,CAAO,CACXV,OAAO,CAACC,GAAR,CAAYS,GAAZ,EACA,MAAOA,IAAP,CACF,CAPM,CAAR,CAQD,CACN,CApBM,CAqBP,MAAO,IAAMC,QAAO,CAAG,QAAVA,QAAU,CAACC,IAAD,CAAS,CAC7B,MAAOhB,MAAK,CAACiB,IAAN,WAAcf,OAAd,iBAAoCc,IAApC,CAAyC,CAACR,OAAO,CAAC,CAACC,aAAa,kBAAWR,WAAW,GAAGK,KAAzB,CAAd,CAAT,CAAzC,EAAoGI,IAApG,CAAyG,SAACC,IAAD,CAAQ,CAErH,MAAOA,KAAP,CACF,CAHM,EAINE,KAJM,CAIA,SAACC,GAAD,CAAO,CACXV,OAAO,CAACC,GAAR,CAAYS,GAAZ,EACA,MAAOA,IAAP,CACF,CAPM,CAAP,CASF,CAVM,CAWP,MAAO,IAAMI,cAAa,CAAG,QAAhBA,cAAgB,CAACC,KAAD,CAAU,CACpC,MAAOnB,MAAK,CAACO,GAAN,WAAaL,OAAb,wBAAmCiB,KAAnC,GAA4CT,IAA5C,CAAiD,SAACC,IAAD,CAAQ,CAC7D,MAAOA,KAAI,CAACC,IAAL,CAAUI,IAAjB,CAEF,CAHM,EAINH,KAJM,CAIA,SAACC,GAAD,CAAO,CACXV,OAAO,CAACC,GAAR,CAAYS,GAAZ,EACF,CANM,CAAP,CAOF,CARM,CASP,MAAO,IAAMM,WAAU,CAAG,QAAbA,WAAa,CAACJ,IAAD,CAAS,CACjC,GAAGA,IAAI,CAACK,IAAL,EAAW,CAAd,CAAgB,CACd,MAAOrB,MAAK,CAACsB,GAAN,WAAapB,OAAb,wBAAmCc,IAAI,CAACO,MAAxC,aAAkDP,IAAI,CAACQ,MAAvD,EACP,EADO,CACJ,CAAChB,OAAO,CAAC,CAACC,aAAa,kBAAWR,WAAW,GAAGK,KAAzB,CAAd,CAAT,CADI,EAENI,IAFM,CAED,SAACC,IAAD,CAAQ,CACZ,MAAOA,KAAP,CACD,CAJM,EAKNE,KALM,CAKA,SAACC,GAAD,CAAO,CACZV,OAAO,CAACC,GAAR,CAAYS,GAAZ,EACD,CAPM,CAAP,CASD,CAVD,IAWI,CACH,MAAOd,MAAK,CAACsB,GAAN,WAAapB,OAAb,wBAAmCc,IAAI,CAACO,MAAxC,aAAkDP,IAAI,CAACQ,MAAvD,EAAgE,EAAhE,CACN,CAAChB,OAAO,CAAC,CAACC,aAAa,kBAAWR,WAAW,GAAGK,KAAzB,CAAd,CAAT,CADM,EAENI,IAFM,CAED,SAACC,IAAD,CAAQ,CACX,MAAOA,KAAP,CACF,CAJM,EAKNE,KALM,CAKA,SAACC,GAAD,CAAO,CACXV,OAAO,CAACC,GAAR,CAAYS,GAAZ,EACF,CAPM,CAAP,CAQA,CACF,CAtBM"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gajul\\\\Desktop\\\\projects\\\\library_management\\\\client\\\\src\\\\components\\\\book\\\\addBook.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { addBook } from \"../../controllers/book\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AddBook = () => {\n  _s();\n\n  const [msg, setmsg] = useState(\"\");\n  const [err, seterr] = useState(\"\");\n  const [form, setform] = useState(new FormData());\n\n  const change = name => e => {\n    console.log(e);\n    const value = name == \"photo\" ? e.target.files[0] : e.target.value;\n    let f = form;\n    f.set([name], value);\n    console.log(value);\n    setform(f);\n  };\n\n  const submitForm = () => {\n    addBook(form).then(resp => {\n      console.log(resp);\n\n      if (resp.data.err == 1) {\n        seterr(resp.data.error);\n        setmsg(\"\");\n      } else {\n        setmsg(\"Successful\");\n        seterr(\"\");\n        document.getElementById(\"form2\").reset();\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"sign\",\n      align: \"center\",\n      children: \"New Book\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form1\",\n      id: \"form2\",\n      onSubmit: e => {\n        e.preventDefault();\n        submitForm(e);\n      },\n      children: [err.length > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"\",\n        align: \"center\",\n        style: {\n          color: \"red\",\n          fontSize: \"17px\",\n          fontFamily: \"Ubuntu\"\n        },\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 27\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), msg.length > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"\",\n        align: \"center\",\n        style: {\n          color: \"green\",\n          fontSize: \"17px\",\n          fontFamily: \"Ubuntu\"\n        },\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 27\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"un \",\n        type: \"text\",\n        align: \"center\",\n        name: \"name\",\n        placeholder: \"Title\",\n        onChange: e => {\n          change(e);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"un \",\n        type: \"text\",\n        align: \"center\",\n        name: \"author\",\n        placeholder: \"Author\",\n        onChange: e => {\n          change(e);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"un \",\n        type: \"text\",\n        align: \"center\",\n        name: \"refno\",\n        placeholder: \"Reference no\",\n        onChange: e => {\n          change(e);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"un\",\n        type: \"file\",\n        align: \"center\",\n        name: \"photo\",\n        placeholder: \"picture\",\n        onChange: e => {\n          change(e);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"un \",\n        type: \"text\",\n        align: \"center\",\n        name: \"no_of_copies\",\n        placeholder: \"number of copies\",\n        onChange: e => {\n          change(e);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"submit\",\n        align: \"center\",\n        type: \"submit\",\n        children: \"Add Book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddBook, \"zW6W1vJrtWeaTqCpUuq/+qbTPZ8=\");\n\n_c = AddBook;\nexport default AddBook;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddBook\");","map":{"version":3,"names":["React","useState","addBook","AddBook","msg","setmsg","err","seterr","form","setform","FormData","change","name","e","console","log","value","target","files","f","set","submitForm","then","resp","data","error","document","getElementById","reset","catch","preventDefault","length","color","fontSize","fontFamily"],"sources":["C:/Users/gajul/Desktop/projects/library_management/client/src/components/book/addBook.js"],"sourcesContent":["import React,{useState} from \"react\";\r\nimport { addBook } from \"../../controllers/book\";\r\nconst AddBook = () =>{\r\n    const [msg,setmsg] = useState(\"\");\r\n    const [err,seterr] = useState(\"\");\r\n    const [form,setform] = useState(new FormData());\r\n    const change = (name)=>(e) =>{\r\n      console.log(e);\r\n      const value = (name==\"photo\")?e.target.files[0]:e.target.value;\r\n      let f= form;\r\n      f.set([name],value);\r\n      console.log(value);\r\n      setform(f);\r\n    }\r\n   const submitForm = () =>{\r\n    \r\n   \r\n    addBook(form).then((resp)=>{\r\n      console.log(resp);\r\n      if(resp.data.err==1){\r\n       seterr(resp.data.error);\r\n       setmsg(\"\");\r\n      }\r\n      else{\r\n        setmsg(\"Successful\");\r\n        seterr(\"\");\r\n        document.getElementById(\"form2\").reset();\r\n      }\r\n    })\r\n    .catch((err)=>{\r\n      console.log(err);\r\n    })\r\n   }\r\n    return (\r\n        <div className=\"main\">\r\n          <p className=\"sign\" align=\"center\">New Book</p>\r\n          <form className=\"form1\" id=\"form2\" onSubmit={(e)=>{e.preventDefault();submitForm(e)}}>\r\n            {err.length>0?<p className=\"\" align=\"center\" style={{color:\"red\",fontSize:\"17px\",fontFamily:\"Ubuntu\"}} >{err}</p>:<></>}\r\n            {msg.length>0?<p className=\"\" align=\"center\" style={{color:\"green\",fontSize:\"17px\",fontFamily:\"Ubuntu\"}} >{msg}</p>:<></>}\r\n            <input className=\"un \" type=\"text\" align=\"center\" name=\"name\" placeholder=\"Title\" onChange={(e)=>{change(e)}}/>\r\n            <input className=\"un \" type=\"text\" align=\"center\" name=\"author\" placeholder=\"Author\" onChange={(e)=>{change(e)}}/>\r\n            <input className=\"un \" type=\"text\" align=\"center\" name=\"refno\" placeholder=\"Reference no\" onChange={(e)=>{change(e)}}/>\r\n            <input className=\"un\" type=\"file\" align=\"center\" name=\"photo\" placeholder=\"picture\" onChange={(e)=>{change(e)}}/>\r\n            <input className=\"un \" type=\"text\" align=\"center\" name=\"no_of_copies\" placeholder=\"number of copies\" onChange={(e)=>{change(e)}}/>\r\n            <button className=\"submit\" align=\"center\" type=\"submit\">Add Book</button>\r\n          </form>           \r\n          </div>);\r\n\r\n}\r\nexport default AddBook;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
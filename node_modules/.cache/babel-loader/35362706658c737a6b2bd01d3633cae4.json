{"ast":null,"code":"import _slicedToArray from\"C:/Users/gajul/Desktop/projects/library_management/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{forgotPassword}from\"../controllers/user\";import{useParams}from\"react-router-dom\";import\"./signin.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ForgotPassword=function ForgotPassword(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),msg=_useState2[0],setmsg=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),err=_useState4[0],seterr=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),student=_useState6[0],setStudent=_useState6[1];var _useParams=useParams(),token=_useParams.token;var Submit=function Submit(data){data=data.target;var x={password:data[0].value,admin:!student,token:token};forgotPassword(x).then(function(resp){console.log(resp);if(resp.data.err==undefined){setmsg(resp.data.data);document.getElementById(\"form1\").reset();}else{seterr(resp.data.error);}}).catch(function(err){console.log(err);});};var optionSelection=function optionSelection(){var val=document.getElementById(\"ctx\").value;seterr(\"\");if(val===\"admin\"){setStudent(0);}else{setStudent(1);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"sign\",align:\"center\",children:\"Forgot Password\"}),err.length>0?/*#__PURE__*/_jsx(\"p\",{className:\"\",align:\"center\",style:{color:\"red\",fontSize:\"13px\",fontFamily:\"Ubuntu\"},children:err}):/*#__PURE__*/_jsx(_Fragment,{}),msg.length>0?/*#__PURE__*/_jsx(\"p\",{className:\"\",align:\"center\",style:{color:\"green\",fontSize:\"17px\",fontFamily:\"Ubuntu\"},children:msg}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsxs(\"form\",{className:\"form1\",id:\"form1\",style:{paddingTop:\"10px\"},onSubmit:function onSubmit(e){e.preventDefault();Submit(e);},children:[/*#__PURE__*/_jsx(\"input\",{className:\"pass\",type:\"password\",align:\"center\",placeholder:\"Password\",onChange:function onChange(){seterr(\"\");setmsg(\"\");}}),/*#__PURE__*/_jsxs(\"select\",{className:\"un\",type:\"text\",id:\"ctx\",onChange:function onChange(e){return optionSelection();},children:[/*#__PURE__*/_jsx(\"option\",{className:\"un\",value:\"student\",children:\"Student\"}),/*#__PURE__*/_jsx(\"option\",{className:\"un\",value:\"admin\",children:\"Admin\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"submit\",align:\"center\",type:\"submit\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"p\",{className:\"forgot\",align:\"center\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/signin\",children:\"Sign In\"})})]})]});};export default ForgotPassword;","map":{"version":3,"names":["React","useState","useNavigate","forgotPassword","useParams","ForgotPassword","navigate","msg","setmsg","err","seterr","student","setStudent","token","Submit","data","target","x","password","value","admin","then","resp","console","log","undefined","document","getElementById","reset","error","catch","optionSelection","val","length","color","fontSize","fontFamily","paddingTop","e","preventDefault"],"sources":["C:/Users/gajul/Desktop/projects/library_management/client/src/components/forgotPassword.js"],"sourcesContent":["import React,{useState} from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {forgotPassword} from \"../controllers/user\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport \"./signin.css\";\r\n const ForgotPassword = () =>{\r\n         const navigate = useNavigate();\r\n         const [msg,setmsg] = useState(\"\");\r\n         const [err, seterr] = useState(\"\");\r\n         const [student,setStudent]=useState(1);\r\n         const {token} = useParams();\r\n        const Submit = (data) =>{\r\n              data = data.target;\r\n              let x = {\r\n                password:data[0].value\r\n                ,admin:!student,\r\n                token:token\r\n              };\r\n              forgotPassword(x).then((resp)=>{\r\n                console.log(resp);\r\n                if(resp.data.err==undefined){\r\n                 setmsg(resp.data.data);\r\n                 document.getElementById(\"form1\").reset();\r\n                }\r\n                  else{\r\n                      seterr(resp.data.error);\r\n                  }\r\n              })\r\n              .catch((err)=>{\r\n                console.log(err);\r\n              })\r\n        }\r\n      \r\n        const optionSelection = () =>{\r\n              let val = document.getElementById(\"ctx\").value;\r\n              seterr(\"\");\r\n              if(val===\"admin\"){setStudent(0);}\r\n              else{\r\n                setStudent(1);\r\n              }\r\n        }\r\n       \r\n    return (\r\n        <div className=\"main\">\r\n          <p className=\"sign\" align=\"center\">Forgot Password</p>\r\n          {err.length>0?<p className=\"\" align=\"center\" style={{color:\"red\",fontSize:\"13px\",fontFamily:\"Ubuntu\"}} >{err}</p>:<></>}\r\n          {msg.length>0?<p className=\"\" align=\"center\" style={{color:\"green\",fontSize:\"17px\",fontFamily:\"Ubuntu\"}}>{msg}</p>:<></>}\r\n          <form className=\"form1\" id=\"form1\" style={{paddingTop:\"10px\"}} onSubmit={(e)=>{e.preventDefault();Submit(e);}}>\r\n            <input className=\"pass\" type=\"password\" align=\"center\" placeholder=\"Password\" onChange={()=>{seterr(\"\");setmsg(\"\");}}/>\r\n            <select className=\"un\" type=\"text\" id=\"ctx\" onChange={(e)=>optionSelection()}>\r\n              <option className=\"un\" value=\"student\">Student</option>\r\n              <option className=\"un\" value=\"admin\">Admin</option>\r\n            </select>\r\n            <button className=\"submit\" align=\"center\" type=\"submit\">Submit</button>\r\n            <p className=\"forgot\" align=\"center\"><a href=\"/signin\">Sign In</a></p>\r\n               </form>   \r\n                      \r\n          </div>);\r\n\r\n\r\n}\r\nexport default ForgotPassword;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import axios from \"axios\";\nexport const getCart = props => {\n  return axios.get(`http://localhost:8000/users/book/borrowed/${props.regno}`).then(resp => {\n    console.log(resp);\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const signIn = props => {\n  return axios.post(`http://localhost:8000/signin/user/`, {\n    gmail: props.gmail,\n    password: props.password\n  }).then(resp => {\n    //  console.log(resp);\n    return resp;\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const isUserAuth = () => {\n  let x = JSON.parse(localStorage.getItem(\"libstudent\"));\n  return x;\n};\nexport const getUser = () => {\n  return axios.get(`http://localhost:8000/users/user/${isUserAuth().user.reg_no}`).then(resp => {\n    // console.log(resp);\n    return resp;\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const updateUser = obj => {\n  return axios.put(\"http://localhost:8000/users/update\", {\n    obj\n  }, {\n    headers: {\n      Authorization: `Bearer ${isUserAuth().token}`\n    }\n  }).then(resp => {\n    console.log(resp);\n    return resp;\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const createUser = user => {\n  console.log(user);\n  let isstu = \"user\";\n\n  if (user.isuser == 0) {\n    isstu = \"admin\";\n    user.reg_no = undefined;\n  }\n\n  return axios.post(`http://localhost:8000/signup/${isstu}/new`, {\n    name: user.name,\n    gmail: user.gmail,\n    reg_no: user.reg_no,\n    password: user.password\n  }).then(resp => {\n    return resp;\n  }).catch(err => {\n    console.log(err);\n  });\n};","map":{"version":3,"names":["axios","getCart","props","get","regno","then","resp","console","log","catch","err","signIn","post","gmail","password","isUserAuth","x","JSON","parse","localStorage","getItem","getUser","user","reg_no","updateUser","obj","put","headers","Authorization","token","createUser","isstu","isuser","undefined","name"],"sources":["C:/Users/gajul/Desktop/projects/library_management/client/src/controllers/user.js"],"sourcesContent":["import axios from \"axios\"\r\n\r\n\r\nexport const getCart = (props) =>{\r\n    return axios.get(`http://localhost:8000/users/book/borrowed/${props.regno}`)\r\n    .then((resp)=>{\r\n       console.log(resp);\r\n    })\r\n    .catch((err)=>{\r\n        console.log(err);\r\n    })\r\n}\r\nexport const signIn = (props) =>{\r\n    \r\n    \r\n    return  axios.post(`http://localhost:8000/signin/user/`,{\r\n        gmail:props.gmail,\r\n        password:props.password\r\n    })\r\n    .then((resp)=>{\r\n      //  console.log(resp);\r\n      return resp;\r\n \r\n    })\r\n    .catch((err)=>{\r\n        console.log(err);\r\n    })\r\n\r\n}\r\nexport const isUserAuth = () =>{\r\n    let x = JSON.parse(localStorage.getItem(\"libstudent\"));\r\n   \r\n    return x;\r\n}\r\nexport const getUser = () =>{\r\n    \r\n    return axios.get(`http://localhost:8000/users/user/${isUserAuth().user.reg_no}`).then((resp)=>{\r\n       // console.log(resp);\r\n        return resp;\r\n    })\r\n    .catch((err)=>{\r\n        console.log(err);\r\n    \r\n    })\r\n\r\n}\r\nexport const updateUser = (obj) =>{\r\n    return axios.put(\"http://localhost:8000/users/update\",{\r\n        obj\r\n    },{headers:{\r\n        Authorization:`Bearer ${isUserAuth().token}`\r\n    }\r\n    \r\n    }).then((resp)=>{\r\n        console.log(resp);\r\n        return resp;\r\n        \r\n    })\r\n    .catch((err)=>{\r\n        console.log(err);\r\n    })\r\n};\r\nexport const  createUser = (user) =>{\r\n    console.log(user);\r\n    let isstu =\"user\";\r\n    if(user.isuser==0){isstu=\"admin\";user.reg_no=undefined;}\r\n     return axios.post(`http://localhost:8000/signup/${isstu}/new`,{\r\n      name:user.name,\r\n      gmail:user.gmail,\r\n      reg_no:user.reg_no,\r\n      password:user.password\r\n     })\r\n     .then((resp)=>{\r\n        return resp;\r\n     })\r\n     .catch((err)=>{\r\n        console.log(err);\r\n     })\r\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,OAAO,MAAMC,OAAO,GAAIC,KAAD,IAAU;EAC7B,OAAOF,KAAK,CAACG,GAAN,CAAW,6CAA4CD,KAAK,CAACE,KAAM,EAAnE,EACNC,IADM,CACAC,IAAD,IAAQ;IACXC,OAAO,CAACC,GAAR,CAAYF,IAAZ;EACF,CAHM,EAING,KAJM,CAICC,GAAD,IAAO;IACVH,OAAO,CAACC,GAAR,CAAYE,GAAZ;EACH,CANM,CAAP;AAOH,CARM;AASP,OAAO,MAAMC,MAAM,GAAIT,KAAD,IAAU;EAG5B,OAAQF,KAAK,CAACY,IAAN,CAAY,oCAAZ,EAAgD;IACpDC,KAAK,EAACX,KAAK,CAACW,KADwC;IAEpDC,QAAQ,EAACZ,KAAK,CAACY;EAFqC,CAAhD,EAIPT,IAJO,CAIDC,IAAD,IAAQ;IACZ;IACA,OAAOA,IAAP;EAED,CARO,EASPG,KATO,CASAC,GAAD,IAAO;IACVH,OAAO,CAACC,GAAR,CAAYE,GAAZ;EACH,CAXO,CAAR;AAaH,CAhBM;AAiBP,OAAO,MAAMK,UAAU,GAAG,MAAK;EAC3B,IAAIC,CAAC,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,CAAR;EAEA,OAAOJ,CAAP;AACH,CAJM;AAKP,OAAO,MAAMK,OAAO,GAAG,MAAK;EAExB,OAAOrB,KAAK,CAACG,GAAN,CAAW,oCAAmCY,UAAU,GAAGO,IAAb,CAAkBC,MAAO,EAAvE,EAA0ElB,IAA1E,CAAgFC,IAAD,IAAQ;IAC3F;IACC,OAAOA,IAAP;EACH,CAHM,EAING,KAJM,CAICC,GAAD,IAAO;IACVH,OAAO,CAACC,GAAR,CAAYE,GAAZ;EAEH,CAPM,CAAP;AASH,CAXM;AAYP,OAAO,MAAMc,UAAU,GAAIC,GAAD,IAAQ;EAC9B,OAAOzB,KAAK,CAAC0B,GAAN,CAAU,oCAAV,EAA+C;IAClDD;EADkD,CAA/C,EAEL;IAACE,OAAO,EAAC;MACPC,aAAa,EAAE,UAASb,UAAU,GAAGc,KAAM;IADpC;EAAT,CAFK,EAMJxB,IANI,CAMEC,IAAD,IAAQ;IACZC,OAAO,CAACC,GAAR,CAAYF,IAAZ;IACA,OAAOA,IAAP;EAEH,CAVM,EAWNG,KAXM,CAWCC,GAAD,IAAO;IACVH,OAAO,CAACC,GAAR,CAAYE,GAAZ;EACH,CAbM,CAAP;AAcH,CAfM;AAgBP,OAAO,MAAOoB,UAAU,GAAIR,IAAD,IAAS;EAChCf,OAAO,CAACC,GAAR,CAAYc,IAAZ;EACA,IAAIS,KAAK,GAAE,MAAX;;EACA,IAAGT,IAAI,CAACU,MAAL,IAAa,CAAhB,EAAkB;IAACD,KAAK,GAAC,OAAN;IAAcT,IAAI,CAACC,MAAL,GAAYU,SAAZ;EAAuB;;EACvD,OAAOjC,KAAK,CAACY,IAAN,CAAY,gCAA+BmB,KAAM,MAAjD,EAAuD;IAC7DG,IAAI,EAACZ,IAAI,CAACY,IADmD;IAE7DrB,KAAK,EAACS,IAAI,CAACT,KAFkD;IAG7DU,MAAM,EAACD,IAAI,CAACC,MAHiD;IAI7DT,QAAQ,EAACQ,IAAI,CAACR;EAJ+C,CAAvD,EAMNT,IANM,CAMAC,IAAD,IAAQ;IACX,OAAOA,IAAP;EACF,CARM,EASNG,KATM,CASCC,GAAD,IAAO;IACXH,OAAO,CAACC,GAAR,CAAYE,GAAZ;EACF,CAXM,CAAP;AAYJ,CAhBM"},"metadata":{},"sourceType":"module"}
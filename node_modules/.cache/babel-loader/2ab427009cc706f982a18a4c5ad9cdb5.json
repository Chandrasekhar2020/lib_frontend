{"ast":null,"code":"import axios from \"axios\";\nimport { isAdminAuth } from \"./admin\";\nexport const getBooks = () => {\n  if (isAdminAuth()) {\n    console.log(isAdminAuth().token);\n    return axios.get(`http://localhost:${process.env.REACT_APP_NODE_PORT}/admin/book`, {\n      headers: {\n        Authorization: `Bearer ${isAdminAuth().token}`\n      }\n    }).then(resp => {\n      return resp.data.resp;\n    });\n  } else {\n    return axios.get(`http://localhost:${process.env.REACT_APP_NODE_PORT}/users/book/`).then(resp => {\n      return resp.data.resp;\n    }).catch(err => {\n      console.log(err);\n      return err;\n    });\n  }\n};\nexport const addBook = book => {\n  return axios.post(`http://localhost:${process.env.REACT_APP_NODE_PORT}/admin/book/`, book, {\n    headers: {\n      Authorization: `Bearer ${isAdminAuth().token}`\n    }\n  }).then(resp => {\n    return resp;\n  }).catch(err => {\n    console.log(err);\n    return err;\n  });\n};\nexport const getBookDetail = props => {\n  return axios.get(`http://localhost:${process.env.REACT_APP_NODE_PORT}/users/book/${props}`).then(resp => {\n    return resp.data.book;\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const BookManage = book => {\n  if (book.take == 1) {\n    return axios.put(`http://localhost:${process.env.REACT_APP_NODE_PORT}/admin/take/${book.ref_no}/${book.reg_no}`, {}, {\n      headers: {\n        Authorization: `Bearer ${isAdminAuth().token}`\n      }\n    }).then(resp => {\n      return resp;\n    }).catch(err => {\n      console.log(err);\n    });\n  } else {\n    return axios.put(`http://localhost:${process.env.REACT_APP_NODE_PORT}/admin/give/${book.ref_no}/${book.reg_no}`, {}, {\n      headers: {\n        Authorization: `Bearer ${isAdminAuth().token}`\n      }\n    }).then(resp => {\n      return resp;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n};\n_c = BookManage;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookManage\");","map":{"version":3,"names":["axios","isAdminAuth","getBooks","console","log","token","get","process","env","REACT_APP_NODE_PORT","headers","Authorization","then","resp","data","catch","err","addBook","book","post","getBookDetail","props","BookManage","take","put","ref_no","reg_no"],"sources":["C:/Users/gajul/Desktop/projects/library_management/client/src/controllers/book.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { isAdminAuth } from \"./admin\";\r\n\r\nexport const getBooks = ()=>{\r\n   if(isAdminAuth()){\r\n      console.log(isAdminAuth().token);\r\n      return axios.get(`http://localhost:${process.env.REACT_APP_NODE_PORT}/admin/book`,{\r\n       headers:{ Authorization:`Bearer ${isAdminAuth().token}` }\r\n      }).\r\n      then((resp)=>{\r\n         return resp.data.resp;\r\n      })\r\n   }\r\n   else{\r\n        return  axios.get(`http://localhost:${process.env.REACT_APP_NODE_PORT}/users/book/`).then((resp)=>{\r\n            return resp.data.resp;\r\n\r\n         })\r\n         .catch((err)=>{\r\n            console.log(err);\r\n            return err;\r\n         })\r\n      }\r\n};\r\nexport const addBook = (book) =>{\r\n   return axios.post(`http://localhost:${process.env.REACT_APP_NODE_PORT}/admin/book/`,book,{headers:{Authorization:`Bearer ${isAdminAuth().token}`}}).then((resp)=>{\r\n     \r\n      return resp;\r\n   })\r\n   .catch((err)=>{\r\n      console.log(err);\r\n      return err;\r\n   })\r\n\r\n};\r\nexport const getBookDetail = (props) =>{\r\n   return axios.get(`http://localhost:${process.env.REACT_APP_NODE_PORT}/users/book/${props}`).then((resp)=>{\r\n      return resp.data.book;\r\n      \r\n   })\r\n   .catch((err)=>{\r\n      console.log(err);\r\n   })\r\n}\r\nexport const BookManage = (book) =>{\r\n  if(book.take==1){\r\n    return axios.put(`http://localhost:${process.env.REACT_APP_NODE_PORT}/admin/take/${book.ref_no}/${book.reg_no}`,\r\n    {},{headers:{Authorization:`Bearer ${isAdminAuth().token}`}})\r\n    .then((resp)=>{\r\n      return resp;\r\n    })\r\n    .catch((err)=>{\r\n      console.log(err);\r\n    });\r\n\r\n  }\r\n  else{\r\n   return axios.put(`http://localhost:${process.env.REACT_APP_NODE_PORT}/admin/give/${book.ref_no}/${book.reg_no}`,{}\r\n   ,{headers:{Authorization:`Bearer ${isAdminAuth().token}`}})\r\n   .then((resp)=>{\r\n      return resp;\r\n   })\r\n   .catch((err)=>{\r\n      console.log(err);\r\n   });\r\n  }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}